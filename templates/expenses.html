<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8">
  <title>××” ××¦×‘×™× ×• - ×¨×©×™××ª ×”×•×¦××•×ª</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class="app-shell">

  <header class="app-header">
    <div class="app-header-top">
      <h1 class="app-title">××” ××¦×‘×™× ×•</h1>
      <nav class="header-actions">
        <a href="{{ url_for('reports', month=selected_month) }}" class="header-link">×“×•×—×•×ª</a>
        <a href="{{ url_for('add_expense') }}" class="primary-button">+ ×”×•×¦××”</a>
      </nav>
    </div>
    <div class="summary-bar">
      <span>×¡×”×› ×©×•×¨×•×ª: {{ total_rows }}</span>
      <span>×¡×”×› ×”×•×¦××•×ª: {{ "%.2f" | format(total_amount) }} â‚ª</span>
    </div>


    {% if months %}
      <form method="get" class="filter-bar">
        <label for="month-select">×—×•×“×©:</label>
        <select id="month-select" name="month" onchange="this.form.submit()">
          {% for m in months %}
            <option value="{{ m.key }}" {% if m.key == selected_month %}selected{% endif %}>
              {{ m.label }}
            </option>
          {% endfor %}
        </select>
      </form>
    {% endif %}
  </header>

  <main class="content">
    {% if expenses %}
      <div class="expense-list">
        {% for exp in expenses %}
          <article class="expense-card">
            <div class="expense-main">
              <div class="expense-header">
                <span class="expense-date">{{ exp["date"] }}</span>
                <span class="expense-amount">{{ "%.2f" | format(exp["amount"]) }} â‚ª</span>
              </div>
              <p class="expense-description">
                {{ exp["description"] }}
              </p>
              <div class="expense-meta">
                <span>{{ exp["category"] }}</span>
                <span>{{ exp["payment_method"] }}</span>
              </div>
            </div>
            <div class="expense-actions">
              <a href="{{ url_for('edit_expense', expense_id=exp['id']) }}" class="btn btn-edit">
                âœ ×¢×¨×•×š
              </a>
              <a href="{{ url_for('delete_expense', expense_id=exp['id']) }}" class="btn btn-delete"
                 onclick="return confirm('×œ××—×•×§ ××ª ×”×”×•×¦××” ×”×–×•?');">
                ğŸ—‘ ××—×§
              </a>
            </div>
          </article>
        {% endfor %}
      </div>
    {% else %}
      <p class="empty-state">××™×Ÿ ×”×•×¦××•×ª ×œ×—×•×“×© ×©× ×‘×—×¨. × ×¡×” ×œ×‘×—×•×¨ ×—×•×“×© ××—×¨ ××• ×œ×”×•×¡×™×£ ×”×•×¦××”.</p>
    {% endif %}
  </main>

</div>
</body>
</html>
